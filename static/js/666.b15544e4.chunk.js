"use strict";(self.webpackChunkcar_finder=self.webpackChunkcar_finder||[]).push([[666],{666:function(e,s,a){a.r(s),a.d(s,{default:function(){return U}});var r=a(433),t=a(439),i=a(791),n=a(861),l=a(757),c=a.n(l),d=a(243);d.Z.defaults.baseURL="https://650739353a38daf4803f45ac.mockapi.io/";var o=function(){var e=(0,n.Z)(c().mark((function e(s){var a,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="/adverts?completed=false&page=".concat(s,"&limit=8"),e.next=4,d.Z.get(a);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(s){return e.apply(this,arguments)}}(),_={card:"CarsList_card__SkDTm",car_item:"CarsList_car_item__wB0a1",car_img:"CarsList_car_img__4KrZo",info:"CarsList_info__HdgrA",model:"CarsList_model__fb3cZ",about:"CarsList_about__b3rSx",btn_favorite:"CarsList_btn_favorite__p3xj1",favorite:"CarsList_favorite__Ibeyc"};function m(e){var s=e.replace(/,/gi,"").split(" ");return s.length<2?"":s[s.length-2]}function h(e){var s=e.replace(/,/gi,"").split(" ");return s[s.length-1]}var u=a(164);var x=a.p+"static/media/sprite.0805810a6206a839c09d7b1ef75120f0.svg",v="Modal_modal__DJDMv",j="Modal_backdrop__xTnIT",p="Modal_btn_close__k9tdE",f="Modal_cross__5k9Me",N=a(184),g=document.querySelector("#modal-root");function C(e){var s=e.children,a=(e.isOpen,e.onClose);(0,i.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return(0,u.createPortal)((0,N.jsx)("div",{className:j,onClick:function(e){e.currentTarget===e.target&&a()},children:(0,N.jsxs)("div",{className:v,children:[(0,N.jsx)("button",{className:p,type:"button",onClick:a,children:(0,N.jsx)("svg",{className:f,width:"24",height:"24",children:(0,N.jsx)("use",{href:x+"#x"})})}),s]})}),g)}var b=a(87),k={container:"CarModal_container__VUjPC",info:"CarModal_info__YFhds",img:"CarModal_img__xYoK7",model:"CarModal_model__DRy5q",car_about:"CarModal_car_about__XeGcB",description:"CarModal_description__8zjGW",title_info:"CarModal_title_info__p2TQA",rental_list:"CarModal_rental_list__Cp2k7",rental_list_item:"CarModal_rental_list_item__h0n-O",item_value:"CarModal_item_value__ND2cu",phone:"CarModal_phone__4kexq"};function F(e){var s=e.advert;if(s){var a=s.id,r=s.year,t=s.make,i=s.model,n=s.type,l=s.img,c=s.description,d=s.fuelConsumption,o=s.engineSize,_=s.rentalPrice,u=s.address,x=s.rentalConditions,v=s.mileage,j=m(u),p=h(u),f=x.split("\n"),g=f[0].split(": "),C=v.toString().replace(/(?=\B(?:\d{3})+(?!\d))/g,",");return(0,N.jsxs)("div",{className:k.container,children:[(0,N.jsx)("img",{className:k.img,src:l,alt:t}),(0,N.jsxs)("div",{className:k.info,children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h1",{className:k.title,children:[t," ",(0,N.jsx)("span",{className:k.model,children:i}),", ",r]}),(0,N.jsxs)("div",{className:k.car_about,children:[(0,N.jsxs)("p",{children:[j," | ",p," | Id: ",a," | Year: ",r," | Type: ",n]}),(0,N.jsxs)("p",{children:["Fuel Consumption: ",d," | Engine Size: ",o]})]}),(0,N.jsx)("p",{className:k.description,children:c})]}),(0,N.jsx)("div",{children:(0,N.jsx)("h2",{className:k.title_info,children:"Accessories and functionalities:"})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h2",{className:k.title_info,children:"Rental Conditions:"}),(0,N.jsxs)("ul",{className:k.rental_list,children:[(0,N.jsxs)("li",{className:k.rental_list_item,children:[g[0],":"," ",(0,N.jsx)("span",{className:k.item_value,children:g[1]})]}),(0,N.jsxs)("li",{className:k.rental_list_item,children:[" ",f[1]]}),(0,N.jsx)("li",{className:k.rental_list_item,children:f[2]}),(0,N.jsxs)("li",{className:k.rental_list_item,children:["Mileage: ",(0,N.jsx)("span",{className:k.item_value,children:C})]}),(0,N.jsxs)("li",{className:k.rental_list_item,children:["Price: ",(0,N.jsx)("span",{className:k.item_value,children:_})]})]})]})]}),(0,N.jsx)(b.rU,{className:k.phone,to:"tel:+380730000000",children:"Rental car"})]})}}var w="Button_btn__RBtNK";function y(e){var s=e.text,a=e.onClick;return(0,N.jsx)("button",{className:w,type:"button",onClick:a,children:s})}function M(e){var s=e.car,a=(0,i.useState)(!1),n=(0,t.Z)(a,2),l=n[0],c=n[1],d=function(){return c(!l)},o=(0,i.useState)((function(){return JSON.parse(localStorage.getItem("favoriteCars"))||[]})),u=(0,t.Z)(o,2),v=u[0],j=u[1],p=v.some((function(e){return e.id===s.id})),f=s.id,g=s.year,b=s.make,k=s.model,w=s.type,M=s.img,L=s.rentalPrice,S=s.rentalCompany,Z=s.address,T=h(Z),E=m(Z);return(0,N.jsx)("li",{className:_.car_item,children:(0,N.jsxs)("div",{className:_.card,children:[(0,N.jsx)("div",{children:(0,N.jsx)("img",{className:_.car_img,src:M,alt:"car"})}),(0,N.jsx)("button",{className:_.btn_favorite,type:"button",onClick:function(){if(p){var e=v.filter((function(e){return e.id!==s.id}));localStorage.setItem("favoriteCars",JSON.stringify(e)),j(e)}else{var a=[].concat((0,r.Z)(v),[s]);localStorage.setItem("favoriteCars",JSON.stringify(a)),j(a)}},children:(0,N.jsx)("svg",{className:"".concat(_.favorite_svg," ").concat(p?_.favorite:""),width:"18",height:"18",children:(0,N.jsx)("use",{href:x+"#heart"})})}),(0,N.jsxs)("div",{className:_.info,children:[(0,N.jsxs)("p",{children:[b,b.length<=5&&(0,N.jsxs)("span",{className:_.model,children:[" ",k]}),", ",g]}),(0,N.jsx)("p",{children:L})]}),(0,N.jsxs)("div",{className:_.about,children:[(0,N.jsxs)("p",{children:[(0,N.jsxs)("span",{children:[E," | "]}),(0,N.jsxs)("span",{children:[T," | "]}),(0,N.jsxs)("span",{children:[S," | "]})]}),(0,N.jsxs)("p",{children:[(0,N.jsxs)("span",{children:[w," | "]}),(0,N.jsxs)("span",{children:[k," | "]}),(0,N.jsxs)("span",{children:[f," | "]})]})]}),(0,N.jsx)(y,{text:"Learn more",onClick:d}),l&&(0,N.jsx)(C,{onClose:d,children:(0,N.jsx)(F,{advert:s})})]})})}var L="Catalog_car_thumb__QLbkY",S="Catalog_btn_load__Fnqkg",Z="Filter_filter__vxThR",T="Filter_div__h0z7C",E="Filter_brand__j1eyh",R="Filter_text_wrapper__5OsRV",O="Filter_select__QmVYV",Q="Filter_text_wrapper_2__lghms",B="Filter_chevron_down__F9ol2",I="Filter_mileage__hagrL",P="Filter_select_2__NtCgJ",q="Filter_img__czLQS",z="Filter_text_wrapper_3__OcuTh",D="Filter_price__fZhnG",G="Filter_div_2__B-tHo",J="Filter_from__LXbxh",V="Filter_text_wrapper_4__-V-MS",Y="Filter_to__E6RM4",H="Filter_main_button__KgbZZ",K="Filter_text__uqQRu",A=function(){return(0,N.jsxs)("form",{className:Z,children:[(0,N.jsxs)("div",{className:T,children:[(0,N.jsxs)("div",{className:E,children:[(0,N.jsx)("div",{className:R,children:"Car brand"}),(0,N.jsxs)("div",{className:O,children:[(0,N.jsx)("div",{className:Q,children:"Enter the text"}),(0,N.jsx)("img",{className:B,alt:"Chevron down",src:"https://c.animaapp.com/cGLrQHkt/img/chevron-down-1.svg"})]})]}),(0,N.jsxs)("div",{className:I,children:[(0,N.jsx)("div",{className:R,children:"Price/ 1 hour"}),(0,N.jsxs)("div",{className:P,children:[(0,N.jsx)("div",{className:Q,children:"To"}),(0,N.jsx)("img",{className:q,alt:"Chevron down",src:"https://c.animaapp.com/cGLrQHkt/img/chevron-down-1.svg"}),(0,N.jsx)("div",{className:z,children:"$"})]})]}),(0,N.jsxs)("div",{className:D,children:[(0,N.jsx)("div",{className:R,children:"\u0421ar mileage / km"}),(0,N.jsxs)("div",{className:G,children:[(0,N.jsx)("div",{className:J,children:(0,N.jsx)("div",{className:V,children:"From"})}),(0,N.jsx)("div",{className:Y,children:(0,N.jsx)("div",{className:V,children:"To"})})]})]})]}),(0,N.jsx)("button",{className:H,type:"button",children:(0,N.jsx)("div",{className:K,children:"Search"})})]})};function U(){var e=(0,i.useState)([]),s=(0,t.Z)(e,2),a=s[0],n=s[1],l=(0,i.useState)(1),c=(0,t.Z)(l,2),d=c[0],_=c[1];(0,i.useEffect)((function(){o(d).then((function(e){n((function(s){return[].concat((0,r.Z)(s),(0,r.Z)(e))}))}))}),[d]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(A,{}),(0,N.jsx)("ul",{className:L,children:a.map((function(e){return(0,N.jsx)(M,{car:e},e.id)}))}),(0,N.jsx)("button",{className:S,type:"button",onClick:function(){_((function(e){return e+1}))},children:"Load more"})]})}}}]);
//# sourceMappingURL=666.b15544e4.chunk.js.map